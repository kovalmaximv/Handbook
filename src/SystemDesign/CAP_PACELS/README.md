# Теорема CAP & PACELC

Обе теоремы используются для описания компромиссов в распределенных систем хранения данных.

CAP теорема расшифровывается как Consistency, Availability и Partition Tolerance. Говорит она о том, что при 
проектировании распределенных систем устойчивых к сетевым проблемам (partition tolerance) невозможно сделать систему
консистентой и доступной, придется выбрать что-то одно. Например, у нас есть система из 2 инстансов БД. В случае 
проблем по сети связь между двумя инстансами нарушена. Если мы выбрали availability, то будет доступно обращению к 
любому инстансу, но так как синхронизации между ними нет - мы теряем консистентность данных (данные на инстансах 
разные -> можем получать противоречивые данные). Если мы выбираем консистентность, то обращение к базе может
потребовать синхронизации данных, что невозможно из-за сетевых проблем - мы теряем доступность. В CAP теореме выбор 
идет между CP или AP. БД из коробки могут быть настроены как CP, так и AP. Но как правило все популярные БД можно 
перенастроить под другую конфигурацию CAP теоремы.

PACELC теорема - логичное продолжение CAP теоремы. Добавляется новая буква L - latency. Расшифровывается PACELC теорема
так: if (P) then A/C else L/C. Иначе говоря: в случае сетевых проблем (P) система может быть доступной (A) или 
консистентной (C), если сетевых проблем нет (P) система имеет маленькую задержу (L) или консистентность (С). Первую часть
теоремы "if (P) then A/C" мы уже рассмотрели в CAP теореме, рассмотрим вторую часть на том же примере с двумя 
инстансами. В случае отсутствии сетевых проблем для обеспечения консистентности данных необходима синхронизация двух 
нод БД, таким образом мы увеличиваем задержку системы. Если нам важна низкая задержка и мы готовы поступиться 
консистентностью, то мы можем не синхронизировать данные. Таким образом получим низкую задержку, но конечную 
согласованность (потеряли строгую консистентность). 