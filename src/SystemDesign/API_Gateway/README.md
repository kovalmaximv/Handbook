# API Gateway
API Gateway - паттерн проектирования, который вводит сервис gateway в кластер. Задачи, которые решает данный сервис:
1) Маршрутизация клиентских запросов в сервисы
2) Проверка аутентификации/авторизации
3) Трассировка и логирование запросов/ответов
4) Кастомное обогащение запросов/ответов различными хедерами/куками/подмена боди и тд.

Долгое время популярным решением был Netflix Zuul, но на данный момент он deprecated. Одна из основных его проблем была
реализация поверх сервлетов, что означально, что он был блокирующим (1 поток на 1 запрос) и его приходилось 
масштабировать в больших объемах. На смену ему пришел Spring Cloud Gateway.

Внутри Spring cloud gateway приложения в `applcation.yml` определяются роуты откуда -> куда. Например, все запросы в
gateway с путем `/service/**` перенаправлять в `https://localhost/service`. Помимо этого можно объявить фильтры 
(которые решают задачу 4), они могут быть глобальными (работать для всех роутов) или частными (для определенных роутов).

Пример роута из Spring cloud gateway:
```yaml
spring:
   cloud:
      gateway:
         routes:
            - id: example_route
              uri: http://example.org
              predicates:
                 - Path=/example/**
              filters:
                 - ExampleLogger=honors
```