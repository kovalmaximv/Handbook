# Адресация и маршрутизация
## Адресация узлов сети
Каждому компьютеру в сети присваивается свой адрес, чтобы к нему можно было обратиться.

Адреса бывают:  
**числовой** (192.168.255.255)  
**символьный** (site.domen.ru)

Адресное пространство бывает:  
**плоское** (MAC адреса F8-0F-41-79-1C-28)  
**иерархическое** (IP адреса 192.168.255.255)

Как все работает:  
- Пользователь задает иерархический символьный адрес
- Символьные адреса меняются на числовые
- Числовые переводятся в плоский MAC адрес

### Автоматическое преобразование адреса
Автоматическое преобразование происходит **централизированным** или **распределенным** способом.  

- **Централизиованный** - выделенный сервер имен с таблицами и соответствия разных типов адресов
- **Распределенный** - по сети гуляют широковещательные запросы и узел откликается, если понимает, что зовут его

## Маршрутизация
Маршрутизация - определение маршрута по которому передаются данные.

Возможные маршруты хранятся в таблице маршрутизации. Данная таблица есть в каждом транзитном узле. 
Задачу маршрутизации решают маршрутизаторы и конечные узлы.

Решая задачу маршрутизации принимается во внимание:
- пропускная способность
- задержка прохождения маршрута прошлых пакетов
- кол-во пройденных узлов

## Таблица маршрутизации 
Таблица маршрутизации в максимально упрощенном виде имеет следующий вид:  

| Адрес назначения | Сетевой адрес следующего маршрутизатора | Сетевой адрес выходного порта | Расстояние до сети назначения |
|------------------|-----------------------------------------|-------------------------------|-------------------------------|
| N1               | IP(21)                                  | IP(41)                        | 1                             |
| N2               | IP(12)                                  | IP(42)                        | 0                             |
| ...              | ...                                     | ...                           | ...                           |

Метрики выбора пути могут быть различные, в примере выше это расстояние (в конечных узлах) до места назначения. 
В таблицах так же может быть несколько метрик выбора пути, все зависит от техники и технологий, используемых в сети.

## Источники данных таблицы маршрутизации
1) **ПО стека TCP/IP** заносит в таблицу минимальные данные (подключенные сети и маршруты по умолчанию)
2) **Администратор**
3) **Протоколы маршрутизации** (например RIP или OSPF)